<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Polished Modern Video Player</title>
  <!-- Link to your CSS file -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="player-container" id="playerContainer">
    <video id="video" preload="metadata" aria-label="Video player" playsinline></video> <!-- Added playsinline for better mobile experience -->

    <div class="loading-overlay" id="loadingOverlay" aria-hidden="true">
      <div class="spinner" role="status" aria-label="Loading video"></div>
      <span id="loadingPercentage" class="loading-text"></span>
    </div>
    <div class="error-overlay" id="errorOverlay" role="alert" aria-hidden="true"></div>

    <div class="controls-overlay" id="controlsOverlay">
      <div class="progress-time-container seekbar-main-container">
        <div class="seekbar-container" id="seekbarContainer">
          <div class="seekbar-track"></div>
          <div class="seekbar-buffered-progress" id="seekbarBufferedProgress"></div>
          <input type="range" id="seekbar" class="seekbar" value="0" min="0" max="100" step="0.01" aria-label="Seek video" aria-valuenow="0" aria-valuetext="0:00"/>
          <div class="seekbar-tooltip" id="seekbarTooltip" role="tooltip" aria-hidden="true">0:00</div>
        </div>
      </div>
      <div class="controls">
        <button class="btn" id="playPauseBtn" aria-label="Play" aria-pressed="false">
            <svg id="playPauseIcon" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg>
            <span class="control-tooltip" role="tooltip">Play</span>
        </button>

        <div class="volume-area">
            <button class="btn" id="volumeBtn" aria-label="Mute" aria-haspopup="true" aria-expanded="false">
                <svg id="volumeIcon" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></svg>
                <span class="control-tooltip" role="tooltip">Mute</span>
            </button>
            <div class="volume-slider-wrapper" id="volumeSliderWrapper">
                <input type="range" id="volumeRangeSlider" class="volume-slider-vertical" min="0" max="1" step="0.01" value="0.8" aria-label="Volume"/>
            </div>
        </div>
        
        <div class="time" id="currentTime" aria-live="off">0:00</div>
        <span class="time-separator">/</span>
        <div class="time duration-time" id="duration">0:00</div>
        
        <span class="spacer" style="flex-grow: 1;"></span>

        <button class="btn pipBtn-class" id="pipBtn" aria-label="Enter Picture-in-Picture" style="display: none;" aria-pressed="false">
            <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14z"></path></svg>
            <span class="control-tooltip" role="tooltip">Picture-in-Picture</span>
        </button>

        <button class="btn" id="loopBtn" aria-label="Enable Loop" aria-pressed="false">
            <svg id="loopIcon" viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                <path id="loopIconPath" d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"></path>
            </svg>
            <span class="control-tooltip" role="tooltip">Enable Loop</span>
        </button>

        <div class="control-popup-container">
            <button class="btn" id="speedBtn" aria-label="Playback Speed" aria-haspopup="true" aria-expanded="false" aria-controls="speedMenu">
                <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1.5-11.5l4.08 4.08c-.38.78-.97 1.44-1.69 1.92L12 13V8.5zm1.5-1.68V4h-1v3.71l-3.11 3.11c-.06.06-.1.14-.1.22s.04.16.1.22l.03.03c.12.12.31.12.44 0L12 9.82l3.11 3.11c.12.12.31.12.44 0l.03-.03c.06-.06.1-.14.1-.22s-.04-.16-.1-.22L12 6.82z"></path>
                </svg>
                <span class="speed-indicator" id="speedIndicator" aria-hidden="true">1x</span>
                <span class="control-tooltip" role="tooltip">Playback Speed</span>
            </button>
            <div class="control-popup menu speed-menu" id="speedMenu" role="menu" aria-hidden="true" aria-labelledby="speedBtn">
                <div class="menu-item" role="menuitemradio" aria-checked="false" data-speed="0.25">0.25x</div>
                <div class="menu-item" role="menuitemradio" aria-checked="false" data-speed="0.5">0.5x</div>
                <div class="menu-item selected" role="menuitemradio" aria-checked="true" data-speed="1">Normal</div>
                <div class="menu-item" role="menuitemradio" aria-checked="false" data-speed="1.25">1.25x</div>
                <div class="menu-item" role="menuitemradio" aria-checked="false" data-speed="1.5">1.5x</div>
                <div class="menu-item" role="menuitemradio" aria-checked="false" data-speed="2">2x</div>
            </div>
        </div>
        
        <div class="control-popup-container">
            <button class="btn" id="qualityBtn" aria-label="Quality Settings" aria-haspopup="true" aria-expanded="false" aria-controls="qualityMenu" style="display: none;">
                <svg viewBox="0 0 24 24" focusable="false" aria-hidden="true">
                    <path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path>
                </svg>
                <span class="control-tooltip" role="tooltip">Quality</span>
            </button>
            <div class="control-popup menu quality-menu" id="qualityMenu" role="menu" aria-hidden="true" aria-labelledby="qualityBtn">
                <div class="menu-item selected" role="menuitemradio" aria-checked="true" data-level="-1">Auto</div>
            </div>
        </div>

        <button class="btn" id="fullscreenBtn" aria-label="Enter Fullscreen" aria-pressed="false">
            <svg id="fullscreenIcon" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></svg>
            <span class="control-tooltip" role="tooltip">Fullscreen</span>
        </button>
      </div>
    </div>
  </div>

  <div class="custom-url-loader">
    <label for="customUrlInput" class="sr-only">Custom Video URL</label>
    <input type="text" id="customUrlInput" placeholder="Enter HLS (.m3u8) or MP4 URL">
    <button id="loadCustomUrlBtn" class="btn-load">Load Video</button> <!-- Added btn class for potential ripple -->
  </div>

  <div id="notifier" role="status" aria-live="assertive" aria-atomic="true"></div>

  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest/dist/hls.min.js"></script> <!-- Using minified HLS.js -->
  <!-- Link to your JS file -->
  <script src="script.js"></script>
</body>
</html>
